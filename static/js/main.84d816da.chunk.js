(this.webpackJsonphashlips_nft_minting_dapp=this.webpackJsonphashlips_nft_minting_dapp||[]).push([[0],{236:function(t,e){},259:function(t,e){},261:function(t,e){},339:function(t,e){},341:function(t,e){},374:function(t,e){},379:function(t,e){},381:function(t,e){},388:function(t,e){},401:function(t,e){},424:function(t,e){},433:function(t,e){},435:function(t,e){},504:function(t,e,n){},506:function(t,e,n){"use strict";n.r(e);var c=n(5),a=n(80),r=n.n(a),o=n(14),s=n.n(o),i=n(40),l=n(64),u=n(53),d=n(63),j=n.n(d),p=n(213),b=n.n(p),O=n(65),h=n(214),f=n(16),C={loading:!1,account:null,smartContract:null,web3:null,errorMsg:""},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CONNECTION_REQUEST":return Object(f.a)(Object(f.a)({},C),{},{loading:!0});case"CONNECTION_SUCCESS":return Object(f.a)(Object(f.a)({},t),{},{loading:!1,account:e.payload.account,smartContract:e.payload.smartContract,web3:e.payload.web3});case"CONNECTION_FAILED":return Object(f.a)(Object(f.a)({},C),{},{loading:!1,errorMsg:e.payload});case"UPDATE_ACCOUNT":return Object(f.a)(Object(f.a)({},t),{},{account:e.payload.account});default:return t}},m={loading:!1,totalSupply:0,cost:0,error:!1,errorMsg:""},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CHECK_DATA_REQUEST":return Object(f.a)(Object(f.a)({},t),{},{loading:!0,error:!1,errorMsg:""});case"CHECK_DATA_SUCCESS":return Object(f.a)(Object(f.a)({},t),{},{loading:!1,totalSupply:e.payload.totalSupply,error:!1,errorMsg:""});case"CHECK_DATA_FAILED":return Object(f.a)(Object(f.a)({},m),{},{loading:!1,error:!0,errorMsg:e.payload});default:return t}},N=Object(O.b)({blockchain:g,data:x}),_=[h.a],E=Object(O.c)(O.a.apply(void 0,_)),S=Object(O.d)(N,E),A=function(t){return{type:"CHECK_DATA_FAILED",payload:t}},T=function(){return function(){var t=Object(i.a)(s.a.mark((function t(e){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"CHECK_DATA_REQUEST"}),t.prev=1,t.next=4,S.getState().blockchain.smartContract.methods.totalSupply().call();case 4:n=t.sent,e({type:"CHECK_DATA_SUCCESS",payload:{totalSupply:n}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0),e(A("Could not load data from contract."));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},v=function(t){return{type:"CONNECTION_FAILED",payload:t}},y=function(t){return function(){var e=Object(i.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:"UPDATE_ACCOUNT",payload:{account:t}}),n(T());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=(n(504),n.p+"static/media/logo.77482cef.png"),M=(n.p,n(6));var D=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return t.blockchain})),n=Object(u.c)((function(t){return t.data})),a=Object(c.useState)(!1),r=Object(l.a)(a,2),o=r[0],d=r[1],p=Object(c.useState)("Click buy to mint your NFT."),O=Object(l.a)(p,2),h=O[0],f=O[1],C=Object(c.useState)(1),g=Object(l.a)(C,2),m=g[0],x=g[1],N=Object(c.useState)({CONTRACT_ADDRESS:"",SCAN_LINK:"",NETWORK:{NAME:"",SYMBOL:"",ID:0},NFT_NAME:"",SYMBOL:"",MAX_SUPPLY:1,WEI_COST:0,DISPLAY_COST:0,GAS_LIMIT:0,MARKETPLACE:"",MARKETPLACE_LINK:"",SHOW_BACKGROUND:!1}),_=Object(l.a)(N,2),E=_[0],S=_[1],A=function(){""!==e.account&&null!==e.smartContract&&t(T(e.account))},D=function(){var t=Object(i.a)(s.a.mark((function t(){var e,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,S(n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){D()}),[]),Object(c.useEffect)((function(){A()}),[e.account]),Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"main",children:[Object(M.jsx)("div",{className:"header__logo",children:Object(M.jsx)("img",{src:w,alt:"logo"})}),Object(M.jsxs)("div",{className:"container",children:[Object(M.jsx)("div",{className:"left__col"}),Object(M.jsxs)("div",{className:"right__col",children:[Object(M.jsx)("h3",{className:"title",children:"Mint buto head"}),Object(M.jsxs)("h1",{className:"count",children:[n.totalSupply," / ",E.MAX_SUPPLY]}),Object(M.jsx)("h3",{className:"sub__title",children:"0.1 eth per Buto head"}),Object(M.jsxs)("div",{className:"description",children:[Object(M.jsx)("p",{children:"Excluding gas fee "}),Object(M.jsx)("p",{children:"connect to ethereum network"})]}),Number(n.totalSupply)>=E.MAX_SUPPLY?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("p",{className:"font-bold text-default",children:"The sale has ended."}),Object(M.jsxs)("p",{className:"font-bold text-default",children:["You can still find ",E.NFT_NAME," on"]}),Object(M.jsx)("a",{target:"_blank",href:E.MARKETPLACE_LINK,children:E.MARKETPLACE})]}):Object(M.jsx)(M.Fragment,{children:""===e.account||null===e.smartContract?Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("button",{className:"btn",onClick:function(e){e.preventDefault(),t(function(){var t=Object(i.a)(s.a.mark((function t(e){var n,c,a,r,o,i,l,u,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:"CONNECTION_REQUEST"}),t.next=3,fetch("/config/abi.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 3:return n=t.sent,t.next=6,n.json();case 6:return c=t.sent,t.next=9,fetch("/config/config.json",{headers:{"Content-Type":"application/json",Accept:"application/json"}});case 9:return a=t.sent,t.next=12,a.json();case 12:if(r=t.sent,o=window,!(i=o.ethereum)||!i.isMetaMask){t.next=33;break}return j.a.setProvider(i),l=new b.a(i),t.prev=18,t.next=21,i.request({method:"eth_requestAccounts"});case 21:return u=t.sent,t.next=24,i.request({method:"net_version"});case 24:t.sent==r.NETWORK.ID?(d=new j.a(c,r.CONTRACT_ADDRESS),e({type:"CONNECTION_SUCCESS",payload:{account:u[0],smartContract:d,web3:l}}),i.on("accountsChanged",(function(t){e(y(t[0]))})),i.on("chainChanged",(function(){window.location.reload()}))):e(v("Change network to ".concat(r.NETWORK.NAME,"."))),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(18),e(v("Something went wrong."));case 31:t.next=34;break;case 33:e(v("Install Metamask."));case 34:case"end":return t.stop()}}),t,null,[[18,28]])})));return function(e){return t.apply(this,arguments)}}()),A()},children:"Connect"}),""!==e.errorMsg?Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("p",{className:"err__msg",children:e.errorMsg})}):null]}):Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("p",{className:"err__msg",children:h}),Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)("div",{className:"buy__wrapper",children:[Object(M.jsx)("div",{children:Object(M.jsx)("button",{className:"",disabled:o?1:0,onClick:function(t){t.preventDefault(),function(){var t=m-1;t<1&&(t=1),x(t)}()},children:Object(M.jsx)("span",{className:"text-xl",children:"-"})})}),Object(M.jsx)("p",{className:"text-default font-bold text-xl border px-4 py-0.5 rounded-sm",children:m}),Object(M.jsx)("div",{children:Object(M.jsx)("button",{className:"",disabled:o?1:0,onClick:function(t){t.preventDefault(),function(){var t=m+1;t>10&&(t=10),x(t)}()},children:Object(M.jsx)("span",{className:"text-xl",children:"+"})})})]})}),Object(M.jsx)(M.Fragment,{children:Object(M.jsx)("div",{children:Object(M.jsx)("button",{className:"btn",disabled:o?1:0,onClick:function(n){n.preventDefault(),function(){var n=E.WEI_COST,c=E.GAS_LIMIT,a=String(n*m),r=String(c*m);console.log("Cost: ",a),console.log("Gas limit: ",r),f("Minting your ".concat(E.NFT_NAME,"...")),d(!0),e.smartContract.methods.mint(E.CONTRACT_ADDRESS,m).send({gasLimit:String(r),to:E.CONTRACT_ADDRESS,from:e.account,value:a}).once("error",(function(t){console.log(t),f("Sorry, something went wrong please try again later."),d(!1)})).then((function(n){console.log(n),f("WOW, the ".concat(E.NFT_NAME," is yours! go visit Opensea.io to view it.")),d(!1),t(T(e.account))}))}(),A()},children:Object(M.jsx)("span",{children:o?"BUSY":"BUY"})})})})]})})]})]})]})})},I=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,510)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),c(t),a(t),r(t),o(t)}))};r.a.render(Object(M.jsx)(u.a,{store:S,children:Object(M.jsx)(D,{})}),document.getElementById("root")),I()}},[[506,1,2]]]);
//# sourceMappingURL=main.84d816da.chunk.js.map